{% load static %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>ইস্টিশন</title>
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">
    <link rel="stylesheet" href="assets/css/Features-Boxed.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.6.1/css/pikaday.min.css">
    <link rel="stylesheet" href="assets/css/Login-Form-Dark.css">
    <link rel="stylesheet" href="{% static  'fonts/ionicons.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/Features-Boxed.css' %}">
    <link rel="stylesheet" href="{% static "fonts/font-awesome.min.css"%}">
    <link rel="stylesheet" href="{% static "fonts/ionicons.min.css"%}">
    <link rel="stylesheet" href="assets/css/animation1.css">
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>Trains</title>
    <link href="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.css" rel="stylesheet">
    <script src="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.js"></script>
    <script>
    AOS.init();
    </script>
</head>

<body style="border-style: none;">
<nav class="navbar navbar-dark navbar-expand-lg fixed-top bg-white portfolio-navbar gradient" style="color: rgb(118,35,35);padding: 18.2px 0px;background: linear-gradient(47deg, rgb(240,255,234), rgb(240,255,234) 99%);">
            <div class="container">
                <strong><img src="assets/img/testlogo.png" style="cursor:context-menu;width: 120px;height: 70px;margin-top: -20px;margin-bottom: -13px"></strong>
                <div class="collapse navbar-collapse" id="navbarNav" style="text-align: right;">
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item"><a class="nav-link active link link-four pulse-grow-on-hover" href="http://127.0.0.1:8000/" style="color: #070606;background-color: #f5fff1;padding: 0px;">Home</a></li>
                    <li class="nav-item" style="color: #070606;"><a class="nav-link active link link-four pulse-grow-on-hover" href="login" style="color: #070606;background-color: #f5fff1;padding: 0px;">Log in</a></li>
                    <li class="nav-item"><a class="nav-link active link link-four pulse-grow-on-hover" href="registration" style="color: #070606;background-color: #f5fff1;padding: 0px;">Register</a></li>
                    <li class="nav-item"><a class="nav-link active link link-four pulse-grow-on-hover" href="updateinfo" style="color: #070606;background-color: #f5fff1;padding: 0px;">Dashboard</a></li>
                    <li class="nav-item" style="color: #070606;"><a class="nav-link active link link-four pulse-grow-on-hover" href="contactus" style="color: #070606;background-color: #f5fff1;padding: 0px;">Contact us</a></li>
                    <li class="nav-item" style="cursor:pointer;padding-right: 0px;"><a class="nav-link active link link-four pulse-grow-on-hover" onclick="logout()" style="color: #070606;background-color: #f5fff1;padding: 0px;">Log out</a></li>
                </ul>
        </div>
            </div>
        </nav>

<fieldset style="padding-top: 100px;">
<div style="padding-top: 0px;">
        <div class="container" style="background: url(&quot;assets/img/train6.jpg&quot;) center / cover no-repeat;">
            <section style="padding-top: 25px;background: rgba(0,0,0,0.85);padding-right: 20px;padding-left: 20px;">
                <div class="row" style="padding-left: 10px;">
                    <div class="col" style="padding-left: 55px;">
                        <h1 style="font-size: 16px;color: rgb(118,118,118);"><i class="icon ion-location" style="width: 20px;height: 20px;margin-right: 5px;margin-left: 5px;background: rgba(255,255,255,0);color: rgb(255,255,255);"></i>From:</h1>
                        <p style="font-size: 16px;color: rgb(255,255,255);">{{details.from}}</p>
                    </div>
                    <div class="col" style="margin-bottom: 10px;padding-left: 55px;">
                        <h1 style="font-size: 16px;color: rgb(118,118,118);"><i class="icon ion-location" style="width: 20px;height: 20px;margin-right: 5px;margin-left: 5px;background: rgba(255,255,255,0);color: rgb(255,255,255);"></i>To</h1>
                        <p style="font-size: 16px;color: rgb(255,255,255);padding-bottom: 10px;">{{details.to}}</p>
                    </div>
                    <div class="col" style="padding-left: 55px;">
                        <h1 style="font-size: 16px;color: rgb(118,118,118);"><i class="fa fa-calendar-times-o" style="margin-right: 5px;background: rgba(255,255,255,0);color: rgb(255,255,255);"></i>Date:</h1>
                        <p style="font-size: 16px;color: rgb(255,255,255);padding-bottom: 10px;">{{details.date}}</p>
                    </div>
                    </div>
                <div class="row" style="padding-left: 10px;padding-bottom: 10px;">
                    <div class="col" style="padding-left: 55px;">
                        <h1 style="font-size: 16px;color: rgb(118,118,118);"><i class="fa fa-train" style="margin-right: 5px;color: rgb(255,255,255);"></i>Class:</h1>
                        <p style="font-size: 16px;color: rgb(255,255,255);padding-bottom: 5px;">{{details.class}}</p>
                        <a href="http://127.0.0.1:8000/" style="color:#f0f0f0;margin-bottom: 10px"><u>Change</u></a>
                    </div>
                    <div class="col" style="padding-left: 55px;">
                        <h1 style="font-size: 16px;color: rgb(118,118,118);"><i class="icon ion-person" style="margin-right: 5px;color: rgb(255,255,255);"></i>Adult:</h1>
                        <p style="font-size: 16px;color: rgb(255,255,255);padding-bottom: 5px;">{{details.adult}}</p>
                    </div>
                    <div class="col" style="padding-left: 55px;">
                        <h1 style="font-size: 16px;color: rgb(118,118,118);"><i class="fa fa-child" style="margin-right: 5px;color: rgb(255,255,255);"></i>Child:</h1>
                        <p style="font-size: 16px;color: rgb(255,255,255);padding-bottom: 5px;">{{details.child}}</p>
                    </div>
                </div>
            </section>
        </div>
    </div>
</fieldset>
{% if trains %}
    <label style="border-left: 4px; border-left-style:solid;border-left-color: #58a25b;border-right: 4px;border-right-style:solid;border-right-color: #58a25b;  margin-left:190px; margin-top: 5px; width: 1139px;background: rgb(233,242,229);height: 45px;padding: 5px; padding-left:20px; color: black ;font-size: 22px;"><strong>Result: {{ tcount }} trains found</strong></label>

    <div style="padding-top: 20px;padding-bottom:80px;padding-left: 190px;padding-right: 190px;">
       {% for train in trains %}
        {% if train.lr == '0'%}

            <div data-aos="fade-left" data-aos-delay="{{train.delay}}" style="background: rgb(233,242,229);padding: 20px;border-radius: 15px;padding-top: 30px;padding-left: 30px;padding-right: 30px;margin-bottom: 20px;box-shadow: 0px 2px 4px rgb(225,225,225);">
                <div class="row" >
                    <div class="col" style="padding-top: 5px;">
                        <p style="margin-bottom: 5px;color: rgba(34,61,31,0.85);font-size: 14px;">TRAIN</p><p><strong>{{train.NAME}} ({{train.TRAIN_ID}})</strong></p>
                    </div>
                    <div class="col" style="padding-top: 5px;">
                        <p style="margin-bottom: 5px;color: rgba(34,61,31,0.85);font-size: 14px;">DEPARTURE TIME</p><p><strong>{{train.DEPARTURE_TIME}}</strong></p>
                    </div>
                    <div class="col" style="padding-top: 5px;">
                        <p style="margin-bottom: 5px;color: rgba(34,61,31,0.85);font-size: 14px;">ARRIVAL TIME</p><p><strong>{{train.ARRIVAL_TIME}}</strong></p>
                    </div>
                    <div class="col" style="padding-top: 5px;">
                        <p style="margin-bottom: 5px;color: rgba(34,61,31,0.85);font-size: 14px;">TOTAL COST</p><p style="margin-bottom: 5px;"><strong>{{cost}}</strong></p><p style="font-size: 12px">(Including 15% VAT)</p>
                    </div>
                    <div class="col" style="text-align: center;">
                        <button class="btn btn-primary" type="button" id="{{ train.TRAIN_ID }}" onclick="getid(id)" style="padding:5px; width: 110px;margin-top: 5px;background:#58a25b;border-style: none;margin-left: 5px;">Purchase</button>
                        <button class="btn btn-primary" type="button" id="{{train.TRAIN_ID}}_{{train.NAME}}"  name="btn2" data-toggle="modal" data-target="#mymodal{{ train.TRAIN_ID }}" style="padding: 5px; margin-left: 5px;width: 110px;margin-top: 5px;background: #58a25b;border-style: none;">Availability</button>
                    </div>
                </div>
            </div>
            <!-- Modal -->
            <div class="modal fade"  id="mymodal{{ train.TRAIN_ID }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
              <div class="modal-dialog modal-lg modal-dialog-scrollable modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">{{ train.NAME }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">

                     <div class=" container-fluid">
                            <div class="row">
                                <div class="col-md-3">
                                    <p style="text-align: center"><strong>Class</strong></p>
                                    <p style="text-align: center">Snigdha</p>
                                    <p style="text-align: center">S_chair</p>
                                    <p style="text-align: center">Shovan</p>
                                </div>

                                 <div class="col-md-3">
                                     <p style="text-align: center"><strong>Available Seats</strong></p>
                                     <p style="text-align: center">{{ train.snigdhaseat }}</p>
                                     <p style="text-align: center">{{ train.s_chairseat }}</p>
                                     <p style="text-align: center"> {{ train.shovanseat }}</p>
                                 </div>

                                 <div class="col-md-3">
                                     <p style="text-align: center"><strong>Fare(Adult)</strong></p>
                                     <p style="text-align: center">{{ train.snigdhaad }} BDT</p>
                                     <p style="text-align: center">{{ train.s_chairad }} BDT</p>
                                     <p style="text-align: center">{{ train.shovanad }} BDT</p>
                                 </div>
                                <div class="col-md-3">
                                     <p style="text-align: center"><strong>Fare(Child)</strong></p>
                                    <p style="text-align: center">{{ train.snigdhach }} BDT</p>
                                     <p style="text-align: center">{{ train.s_chairch }} BDT</p>
                                     <p style="text-align: center">{{ train.shovanch }} BDT</p>
                                </div>
                                 </div>
                             </div>
                         </div>

                </div>
              </div>
            </div>

           {% else %}
                   <div data-aos="fade-right"  data-aos-delay="{{train.delay}}" style="background: rgb(240,255,234);padding: 20px;border-radius: 15px;padding-top: 30px;padding-left: 30px;padding-right: 30px;margin-bottom: 20px;box-shadow: 0px 2px 4px rgb(225,225,225);">
                        <div class="row" >
                            <div class="col" style="padding-top: 5px;">
                                <p style="margin-bottom: 5px;color: rgba(34,61,31,0.85);font-size: 14px;">TRAIN</p><p><strong>{{train.NAME}} ({{train.TRAIN_ID}})</strong></p>
                            </div>
                            <div class="col" style="padding-top: 5px;">
                                <p style="margin-bottom: 5px;color: rgba(34,61,31,0.85);font-size: 14px;">DEPARTURE TIME</p><p><strong>{{train.DEPARTURE_TIME}}</strong></p>
                            </div>
                            <div class="col" style="padding-top: 5px;">
                                <p style="margin-bottom: 5px;color: rgba(34,61,31,0.85);font-size: 14px;">ARRIVAL TIME</p><p><strong>{{train.ARRIVAL_TIME}}</strong></p>
                            </div>
                            <div class="col" style="padding-top: 5px;">
                                <p style="margin-bottom: 5px;color: rgba(34,61,31,0.85);font-size: 14px;">TOTAL COST</p><p style="margin-bottom: 5px;"><strong>{{cost}}</strong></p><p style="font-size: 12px">(Including 15% VAT)</p>
                            </div>
                            <div class="col" style="text-align: center;">
                                <button class="btn btn-primary" type="button" id="{{ train.TRAIN_ID }}" onclick="getid(id)" style="padding:5px; width: 110px;margin-top: 5px;background: #58a25b;border-style: none;margin-left: 5px;">Purchase</button>
                                <button class="btn btn-primary" type="button" id="{{train.TRAIN_ID}}_{{train.NAME}}"  name="btn2" data-toggle="modal" data-target="#mymodal{{ train.TRAIN_ID }}" style="padding: 5px; margin-left: 5px;width: 110px;margin-top: 5px;background: #58a25b;border-style: none;">Availability</button>
                            </div>
                        </div>
                   </div>

            <!-- Modal -->
            <div class="modal fade" id="mymodal{{ train.TRAIN_ID }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
              <div class="modal-dialog modal-lg modal-dialog-scrollable modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">{{ train.NAME }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">

                     <div class=" container-fluid">
                            <div class="row">
                                <div class="col-md-3">
                                    <p style="text-align: center"><strong>Class</strong></p>
                                    <p style="text-align: center">Snigdha</p>
                                    <p style="text-align: center">S_chair</p>
                                    <p style="text-align: center">Shovan</p>
                                </div>

                                 <div class="col-md-3">
                                     <p style="text-align: center"><strong>Available Seats</strong></p>
                                     <p style="text-align: center">{{ train.snigdhaseat }}</p>
                                     <p style="text-align: center">{{ train.s_chairseat }}</p>
                                     <p style="text-align: center"> {{ train.shovanseat }}</p>
                                 </div>

                                 <div class="col-md-3">
                                     <p style="text-align: center"><strong>Fare(Adult)</strong></p>
                                     <p style="text-align: center">{{ train.snigdhaad }} BDT</p>
                                     <p style="text-align: center">{{ train.s_chairad }} BDT</p>
                                     <p style="text-align: center">{{ train.shovanad }} BDT</p>
                                 </div>
                                <div class="col-md-3">
                                     <p style="text-align: center"><strong>Fare(Child)</strong></p>
                                    <p style="text-align: center">{{ train.snigdhach }} BDT</p>
                                     <p style="text-align: center">{{ train.s_chairch }} BDT</p>
                                     <p style="text-align: center">{{ train.shovanch }} BDT</p>
                                </div>
                                 </div>
                             </div>
                         </div>

                </div>
              </div>
            </div>
           {% endif %}




{% endfor %}

{% else %}
<label style="margin-left: 190px;margin-top: 20px;font-size: 24px"><strong>No available train from source to destination</strong></label>
<svg xmlns="http://www.w3.org/2000/svg" style="margin-left:10px;padding-top: 0px" width="1em" height="2em" font-size="50px" viewBox="0 0 24 24" fill="none"><path d="M9 11C9.55228 11 10 10.5523 10 10C10 9.44772 9.55228 9 9 9C8.44772 9 8 9.44772 8 10C8 10.5523 8.44772 11 9 11Z" fill="currentColor"></path><path d="M14 17C14 15.8954 13.1046 15 12 15C10.8954 15 10 15.8954 10 17H8C8 14.7909 9.79086 13 12 13C14.2091 13 16 14.7909 16 17H14Z" fill="currentColor"></path><path d="M16 10C16 10.5523 15.5523 11 15 11C14.4477 11 14 10.5523 14 10C14 9.44772 14.4477 9 15 9C15.5523 9 16 9.44772 16 10Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12Z" fill="currentColor"></path></svg>
{% endif %}


</div>
    <main class="text-center page lanidng-page" style="text-align: center;padding: 22px 22px 22px;box-shadow: inset 0px 1px 10px 0px rgb(230,230,230);"><img src="assets/img/1.png"><img src="assets/img/2.png"><img src="assets/img/3.png"><img src="assets/img/4.png"><img src="assets/img/5.png"><img src="assets/img/6.png"></main>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.6.1/pikaday.min.js"></script>
    <script src="assets/js/theme.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
          <script>
            AOS.init(
                {
                    offset: 50, // offset (in px) from the original trigger point
                    once: true,
                    duration: 1200, // values from 0 to 3000, with step 50ms
                    delay: 0,
                }
            );
          </script>
</body>
<script>

    function getid(ID) {
            var txt = document.getElementById(ID).id;
            window.location.href = "{% url 'seat_selection' %}" +"?id="+txt;
          }
          function getname(ID) {
            var text = document.getElementById(ID).id;
            window.location.href = "{% url 'train' %}" +"?name="+'1'+text;
          }
          function getname2(ID) {
            var text = document.getElementById(ID).id;
            window.location.href = "{% url 'train' %}" +"?name="+'0'+text;
          }

</script>
<script>
function logout() {
            window.location.href = "{% url 'login' %}" +"?logged_out="+"1";
          }

</script>

</html>